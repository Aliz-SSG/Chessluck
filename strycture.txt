CHESSW.WEB/
â”œâ”€ src/
â”‚  â”œâ”€ config/
â”‚  â”‚  â””â”€ index.js           # Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ env Ùˆ config Ø¹Ù…ÙˆÙ…ÛŒ
â”‚  â”œâ”€ controllers/
â”‚  â”‚  â”œâ”€ authController.js
â”‚  â”‚  â”œâ”€ gameController.js
â”‚  â”‚  â””â”€ userController.js
â”‚  â”œâ”€ models/
â”‚  â”‚  â”œâ”€ Game.js
â”‚  â”‚  â”œâ”€ Move.js
â”‚  â”‚  â””â”€ User.js
â”‚  â”œâ”€ routes/
â”‚  â”‚  â”œâ”€ authRoutes.js
â”‚  â”‚  â”œâ”€ gameRoutes.js
â”‚  â”‚  â””â”€ index.js
â”‚  â”œâ”€ services/
â”‚  â”‚  â”œâ”€ chessService.js    # Ù…Ù†Ø·Ù‚ Ø¨Ø§Ø²ÛŒØŒ Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª ØµÙØ­Ù‡
â”‚  â”‚  â””â”€ emailService.js
â”‚  â”œâ”€ middlewares/
â”‚  â”‚  â””â”€ authMiddleware.js
â”‚  â”œâ”€ utils/
â”‚  â”‚  â””â”€ logger.js
â”‚  â””â”€ views/
â”‚     â”œâ”€ layouts/
â”‚     â”‚  â””â”€ main.ejs
â”‚     â””â”€ partials/
â”‚        â”œâ”€ header.ejs
â”‚        â”œâ”€ footer.ejs
â”‚        â””â”€ play.ejs
â”œâ”€ public/
â”‚  â”œâ”€ css/
â”‚  â”œâ”€ js/
â”‚  â””â”€ images/
â”œâ”€ tests/
â”‚  â””â”€ auth.test.js
â”œâ”€ .env
â”œâ”€ app.js                   # Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ ExpressØŒ ÙˆØ³Ø·â€ŒØ§ÙØ²Ø§Ø±Ù‡Ø§
â”œâ”€ server.js                # Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø³Ø±ÙˆØ±
â”œâ”€ package.json
â””â”€ README.md


Absolutely, Aliz. Letâ€™s walk through **every item from the list**, one by one, with clear explanations of what each file or folder does and what you should put inside â€” no code, just clarity. This will give you a full mental map of your project.

---

## âœ… 2. `.env` â€” Environment Variables

### ğŸ§  What It Does
Stores sensitive config values like database URIs, email credentials, and secret keys. Keeps them out of your codebase.

### ğŸ“‹ What You Should Put Inside
- `PORT=3000` â€” Port your server runs on  
- `MONGO_URI=...` â€” MongoDB connection string  
- `JWT_SECRET=...` â€” Secret for signing tokens  
- `EMAIL_USER=...` / `EMAIL_PASS=...` â€” For sending emails  
- Any other API keys or config values

---

## âœ… 3. `src/config/index.js` â€” Centralized Config Loader

### ğŸ§  What It Does
Loads `.env` values using `dotenv` and exports them in a structured way for use across your app.

### ğŸ“‹ What You Should Put Inside
- Code to load `.env`
- Exported config object like `{ port, mongoUri, jwtSecret, email }`
- Optional: default fallbacks if env vars are missing

---

## âœ… 4. `app.js` â€” Express Setup & Middleware

### ğŸ§  What It Does
Initializes your Express app, sets up middleware, view engine, static files, and mounts routes.

### ğŸ“‹ What You Should Put Inside
- Express instance
- Middleware: body parser, cookie parser, session, etc.
- View engine setup (EJS)
- Static file serving (`public/`)
- Route mounting (`/auth`, `/game`, etc.)

---

## âœ… 5. `server.js` â€” Server Launcher

### ğŸ§  What It Does
Connects to MongoDB and starts the Express server.

### ğŸ“‹ What You Should Put Inside
- Import `app.js`
- Connect to MongoDB using `mongoose`
- Listen on the configured port
- Optional: graceful shutdown or error logging

---

## âœ… 6. `src/routes/index.js` â€” Route Aggregator

### ğŸ§  What It Does
Combines all route modules into one router and exports it.

### ğŸ“‹ What You Should Put Inside
- Import `authRoutes`, `gameRoutes`, etc.
- Use them under specific paths (`/auth`, `/game`)
- Export the combined router

---

## âœ… 7. `src/routes/authRoutes.js` â€” Auth Endpoints

### ğŸ§  What It Does
Defines routes for login, signup, password recovery, etc.

### ğŸ“‹ What You Should Put Inside
- `POST /login`, `POST /signup`
- `GET /recover`, `POST /recover`
- `POST /reset-password`
- Middleware for validation or rate limiting

---

## âœ… 8. `src/controllers/authController.js` â€” Auth Logic

### ğŸ§  What It Does
Handles the logic behind each auth route â€” user creation, login, password reset.

### ğŸ“‹ What You Should Put Inside
- Functions like `registerUser`, `loginUser`, `sendRecoveryEmail`, `resetPassword`
- Use `User.js` model and `emailService.js`
- Handle errors and responses

---

## âœ… 9. `src/models/User.js` â€” User Schema

### ğŸ§  What It Does
Defines the MongoDB schema for users.

### ğŸ“‹ What You Should Put Inside
- Fields: username, email, password, createdAt
- Methods: password hashing, token generation
- Validation rules

---

## âœ… 10. `src/services/emailService.js` â€” Email Sender

### ğŸ§  What It Does
Sends emails for password recovery, confirmation, etc.

### ğŸ“‹ What You Should Put Inside
- Setup for nodemailer or similar
- Functions like `sendRecoveryEmail(to, token)`
- Use `.env` for credentials

---

## âœ… 11. `src/middlewares/authMiddleware.js` â€” Route Protection

### ğŸ§  What It Does
Checks if a user is authenticated before allowing access to protected routes.

### ğŸ“‹ What You Should Put Inside
- Middleware function that checks JWT or session
- Redirects or blocks unauthorized access
- Optional: role-based access control

---

## âœ… 12â€“15. `src/views/partials/*.ejs` â€” Auth Templates

### ğŸ§  What They Do
Render the frontend forms for login, recovery, reset, and change password.

### ğŸ“‹ What You Should Put Inside
- `login.ejs`: Form for email/password login  
- `recovery.ejs`: Form to request password reset  
- `newpass.ejs`: Form to set new password via token  
- `chngpass.ejs`: Form to change password while logged in  

---

## âœ… 16. `src/views/layouts/main.ejs` â€” Base Layout

### ğŸ§  What It Does
Wraps all pages with a consistent layout (header, footer, etc.)

### ğŸ“‹ What You Should Put Inside
- HTML boilerplate
- `<%- body %>` placeholder for content
- Includes for header/footer

---

## âœ… 17â€“18. `header.ejs` & `footer.ejs` â€” Shared UI

### ğŸ§  What They Do
Reusable components for navigation and footer.

### ğŸ“‹ What You Should Put Inside
- `header.ejs`: Logo, nav links, user info  
- `footer.ejs`: Copyright, links  

---

## âœ… 19â€“21. `public/` â€” Static Assets

### ğŸ§  What They Do
Hold client-side files served directly by Express.

### ğŸ“‹ What You Should Put Inside
- `css/`: Stylesheets (Bootstrap, custom styles)
- `js/`: Client-side JS (e.g. socket.io client, UI logic)
- `images/`: Logos, icons, board graphics

---

## âœ… 22. `src/utils/logger.js` â€” Logging Utility

### ğŸ§  What It Does
Provides consistent logging for errors, events, or debugging.

### ğŸ“‹ What You Should Put Inside
- Functions like `logInfo`, `logError`
- Optional: write to file or external service

---

## âœ… 23. `src/models/Game.js` â€” Game Schema

### ğŸ§  What It Does
Defines the structure of a chess game in the database.

### ğŸ“‹ What You Should Put Inside
- Fields: players, moves, status, winner
- Timestamps and references to `User`

---

## âœ… 24. `src/models/Move.js` â€” Move Schema

### ğŸ§  What It Does
Stores individual moves within a game.

### ğŸ“‹ What You Should Put Inside
- Fields: gameId, player, from, to, piece, timestamp
- Optional: notation, captured piece

---

## âœ… 25. `src/controllers/gameController.js` â€” Game Logic

### ğŸ§  What It Does
Handles game-related actions like starting a game, making a move, ending a game.

### ğŸ“‹ What You Should Put Inside
- Functions like `startGame`, `makeMove`, `endGame`
- Use `Game.js`, `Move.js`, and `chessService.js`

---

## âœ… 26. `src/routes/gameRoutes.js` â€” Game Endpoints

### ğŸ§  What It Does
Defines routes for game actions.

### ğŸ“‹ What You Should Put Inside
- `POST /start`, `POST /move`, `POST /end`
- Use `authMiddleware` to protect routes

---

## âœ… 27. `src/services/chessService.js` â€” Chess Engine

### ğŸ§  What It Does
Implements chess logic: board state, move validation, check/checkmate detection.

### ğŸ“‹ What You Should Put Inside
- Board representation
- Functions like `isValidMove`, `isCheckmate`, `getLegalMoves`
- Optional: FEN parsing, PGN generation

---

## âœ… 28. `src/controllers/userController.js` â€” User Profile Logic

### ğŸ§  What It Does
Handles user-related actions like viewing profile, updating settings, managing friends.

### ğŸ“‹ What You Should Put Inside
- Functions like `getProfile`, `updateSettings`, `addFriend`

---

## âœ… 29. `tests/auth.test.js` â€” Auth Tests

### ğŸ§  What It Does
Tests your authentication logic using a testing framework (e.g. Jest, Mocha).

### ğŸ“‹ What You Should Put Inside
- Unit tests for `authController`
- Mocking database and email service
- Edge cases: invalid login, expired token, etc.

---

## âœ… 30. `README.md` â€” Project Guide

### ğŸ§  What It Does
Explains what your project is, how to set it up, and how to contribute.

### ğŸ“‹ What You Should Put Inside
- Project description
- Setup instructions
- Tech stack
- How to run, test, and deploy
- Optional: screenshots or diagrams

---

Let me know which part you want to build or refine next â€” I can help you scaffold it, write the logic, or even sketch out the flow.
////////////////////////////////////////////////////////////////////
Day 1 (today)

Setup MongoDB schema for Friends:

{
  userId: ObjectId,
  friends: [ObjectId]
}


Write backend endpoints:

POST /addFriend/:id

DELETE /removeFriend/:id

GET /friends

Day 2

Connect frontend buttons â†’ backend API.

Test adding/removing friends actually updates DB.

Day 3

Setup Socket.IO server in your Express app.

Test with simple â€œuser connectedâ€ event in console.

Day 4

Implement private chat between 2 connected users.

Just echo messages â†’ no DB yet.

Day 5

Save chat history in MongoDB:

{
  senderId: ObjectId,
  receiverId: ObjectId,
  message: String,
  timestamp: Date
}


Write GET /chat/:friendId to fetch history.

Day 6

Connect frontend â†’ load previous chat messages when user opens chat.

You should now have friends + working chat.